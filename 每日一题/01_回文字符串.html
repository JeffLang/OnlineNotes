<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>回文字符串</title>
</head>

<body>
  <script>
    /*
    给定一个非空字符串 s，你需要判断是否可以通过重新排列组合的方式形成回文字符串。

    示例 1:

    输入: "code"
    输出: false

    示例 2:

    输入: "aab"
    输出: true

    示例 3:

    输入: "carerac"
    输出: true

    解题思路：

    题目要求判断是否可以通过重新排列组合的方式形成回文字符串，我们可以考虑统计字符串中每个字符出现的次数，如果每个字符出现的次数都是偶数，那么这个字符串一定可以形成回文字符串；如果有一个字符出现的次数是奇数，那么这个字符串可以形成回文字符串的条件就是除了这个出现次数为奇数的字符外，其他字符出现的次数都是偶数。
    */

    // 定义一个判断通过重新排列组合是否可以形成回文字符串的函数

    /**
     * 只要字符串中的字符基数字符出现的次数大于1，则该字符串重新排列之后肯定得不到一个回文字符串
     * 实现过程：
     *  1. 创建一个map（或者是object）
     *  2. 统计每一个字符串出现的次数
     */
    const canPermutePalindrome = (str) => {
      // 首先创建一个Map，用来统计字符串字符的出现次数
      const chartCount = new Map()
      // 遍历字符串，并且将每一个字符出现的次数统计
      for (let i = 0; i < str.length; i++) {
        // 统计每一个字符出现的次数
        chartCount.set(str[i], (chartCount.get(str[i]) || 0) + 1)
      }
      console.log(chartCount)
      // 初始化基数字符出现的次数
      let ollCount = 0
      // 因为Map是可迭代的对象,所以可以使用for...of来遍历
      for (const count of chartCount.values()) {
        if (count % 2 === 1) {
          ollCount++
          // 如果出现的次数>1则直接返回
          if (ollCount > 1) { return false }
        }
      }
      return true
    }
    console.log(canPermutePalindrome('abcebdae'))


    /**
     * 判断一个字符串是否位回文字符串
     * 方法一：使用双指针
     *  实现过程:
     *    1.首先定义左右两个指针,分别指向字符串的首尾字符.
     *    2.然后再一个循环中,左指针向右移动,右指针向左移动,直到他们相遇
     *    3.在每次指针移动前,会检查对象的字符是否为字母或者数字,如果不是则跳过
     *    4.如果左指针和右指针指向的字符不相同,返回false,否则继续
     *    5.直到循环结束仍未返回false,则说明该字符串是回文字符串,返回true
     * 方法二：使用反转字符串
     *  实现过程
     *    1.将字符串全部转换为小写，去除调非数字和字母的字符
     *    2.将字符串反转
     *    3.原字符串与反转字符串对比
     */

    // 方法一：使用双指针
    function isPalindrome(str) {
      // 创建双指针
      let left = 0, right = str.length - 1
      // 可以在这一步将字符串的非数字和非字母
      // 循环遍历
      while (left < right) {
        // 只要两边不相等，则直接返回false
        if (!str[left] === str[right]) {
          return false
        }
        left++
        right--
      }
      // 如果走出循环，则说明是回文字符串
      return true
    }

  </script>
</body>

</html>